{% extends "base.html" %}

{% block title %}Nộp bài tập - Học Trực Tuyến{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card-soft">
                <h2 class="title-gradient mb-4">{{ assignment.tieu_de }}</h2>
                <div class="mb-4">
                    <h5 class="text-brand-sky">Mô tả</h5>
                    <p class="text-muted">{{ assignment.mo_ta or 'Không có mô tả' }}</p>
                </div>
                <div class="mb-4">
                    <h5 class="text-brand-sky">Nội dung bài tập</h5>
                    <div class="border p-3 bg-light rounded">
                        {{ assignment.noi_dung|safe }}
                    </div>
                </div>
                <div class="mb-4">
                    <p class="text-muted">
                        <i class="bi bi-calendar text-brand-sky"></i> Hạn nộp: 
                        <strong>{{ assignment.han_nop.strftime('%d/%m/%Y %H:%M') if assignment.han_nop else 'Không có hạn' }}</strong>
                    </p>
                </div>
                
                <hr>
                
                <h5 class="mb-3">Nộp bài</h5>
                <form method="POST" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="noi_dung" class="form-label">Nội dung bài làm</label>
                        <textarea class="form-control" id="noi_dung" name="noi_dung" rows="10" required placeholder="Nhập nội dung bài làm của bạn..."></textarea>
                    </div>
                    <div class="mb-4">
                        <label for="file" class="form-label">File đính kèm (nếu có)</label>
                        <input type="file" class="form-control" id="file" name="file" accept=".pdf,.doc,.docx,.zip,.rar">
                        <small class="text-muted">Chấp nhận: PDF, DOC, DOCX, ZIP, RAR</small>
                    </div>
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-primary-custom">
                            <i class="bi bi-send"></i> Nộp bài
                        </button>
                        <a href="{{ url_for('assignments', course_id=assignment.khoa_hoc_id) }}" class="btn btn-outline-custom">
                            <i class="bi bi-arrow-left"></i> Quay lại
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
